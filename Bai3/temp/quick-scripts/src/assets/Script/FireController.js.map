{"version":3,"sources":["assets\\Script\\FireController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;AACtF,6CAAwC;AAElC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA4C,kCAAY;IAAxD;QAAA,qEAsDC;QAnDG,YAAM,GAAc,IAAI,CAAC;QAGzB,gBAAU,GAAY,IAAI,CAAE;;QAwB5B,mBAAmB;QAEnB,4CAA4C;QAC5C,mDAAmD;QAEnD,0CAA0C;QAC1C,qIAAqI;QACrI,qCAAqC;QACrC,gCAAgC;QAChC,+CAA+C;QAG/C,0BAA0B;QAE1B,gDAAgD;QAChD,gCAAgC;QAGhC,iHAAiH;QAEjH,wCAAwC;QAExC,wBAAwB;QACxB,IAAI;IACR,CAAC;IA9CG,+BAAM,GAAN;QACI,EAAE,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;QAC/C,iCAAiC;QACjC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC3E,uBAAuB;IAE3B,CAAC;IAED,kCAAS,GAAT,UAAU,KAAK;QACX;;UAEE;QACF,QAAQ,KAAK,CAAC,OAAO,EAAE;YACnB,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACf,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,qBAAW,CAAC,CAAC,IAAI,EAAE,CAAC;gBAClD,sBAAsB;gBAEtB,MAAM;SAEb;IACL,CAAC;IAzBD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACK;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sDACU;IANX,cAAc;QADlC,OAAO;OACa,cAAc,CAsDlC;IAAD,qBAAC;CAtDD,AAsDC,CAtD2C,EAAE,CAAC,SAAS,GAsDvD;kBAtDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\nimport GameManager from \"./GameManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FireController extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    bullet: cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    fire_Point: cc.Node = null ;\r\n\r\n    onLoad() {\r\n        cc.director.getPhysicsManager().enabled = true;\r\n        // kich hoat trinh quan ly vat ly\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.OnKeyDown, this);\r\n        // khoi tao su kien ban\r\n        \r\n    }\r\n\r\n    OnKeyDown(event) {\r\n        /*\r\n        Nhan f de ban\r\n        */\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.f:\r\n                this.node.parent.getComponent(GameManager).Fire();\r\n                //console.log('fire');\r\n                \r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    // private Fire() {\r\n        \r\n    //     let bl = cc.instantiate(this.bullet);\r\n    //     //console.log(bl.position.x, bl.position.y);\r\n        \r\n    //     bl.parent = cc.director.getScene();\r\n    //     let fb = this.node.parent.parent.convertToNodeSpaceAR(this.fire_Point.parent.convertToWorldSpaceAR(this.fire_Point.position));\r\n    //     //let fb = this.node.position;\r\n    //     //console.log(fb.x,fb.y);\r\n    //     //console.log(this.node.x, this.node.y);\r\n        \r\n       \r\n    //     bl.setPosition(fb);\r\n        \r\n    //     //bl.position = this.fire_Point.position;\r\n    //     //console.log(bl.x,bl.y);\r\n        \r\n\r\n    //     //let z = (this.node.right.y<0 ? - Math.acos(this.node.right.x): Math.acos(this.node.right.x))/Math.PI*180\r\n     \r\n    //     bl.rotation = this.node.rotation;\r\n\r\n    //     //this.node.right\r\n    // }\r\n}\r\n"]}